# 📰 신문 기사 수집기

네이버 뉴스에서 신문 게재 기사와 검색 기사를 자동으로 수집하고, 주식시장 정보를 확인할 수 있는 Streamlit 기반 웹 애플리케이션입니다.

## 🚀 주요 기능

### 📰 신문 게재 기사 수집
- **실제 신문에 게재된 기사만** 수집 (aside 영역 제외)
- 경제신문, 종합일간지, 석간신문 카테고리별 선택
- 병렬 처리로 빠른 수집 (3-5배 속도 향상)
- 최대 10페이지(약 100면)까지 수집
- 면 정보 정확 추출 (A1면, B2면 등)
- 톱기사 구조(`dl > dt + dd`) 지원

### 🔍 네이버 뉴스 검색
- 네이버 뉴스 API 또는 웹 크롤링
- 키워드 기반 검색 (최대 1,000개)
- 제목, 요약, 출처, 날짜 정보 제공

### 📈 주식시장 정보
- 주요 지수 동향 (KOSPI, KOSDAQ, S&P 500 등)
- 환율 및 원자재 가격 추이
- 개별 종목/ETF 조회
  - 종목코드, 티커, 종목명으로 검색 가능
  - 주가 추이 차트
  - 기술적 지표 분석 (이동평균선, RSI, MACD)

### 🤖 AI 요약 보고서
- 수집된 기사 자동 요약
- 주요 키워드 추출
- 일일 요약 보고서 생성
- 다운로드 지원

### 💾 다운로드 기능
- Excel, CSV, 텍스트 파일 저장
- 클립보드 복사 기능
- 검색 및 필터링 기능

## 📋 지원 신문사

### 경제 신문
- 매일경제, 머니투데이, 서울경제
- 이데일리, 파이낸셜뉴스, 한국경제

### 종합일간지(조간)
- 경향신문, 국민일보, 동아일보, 서울신문
- 세계일보, 조선일보, 중앙일보, 한겨레
- 한국일보, 디지털타임스, 전자신문

### 석간 신문
- 문화일보, 헤럴드경제, 아시아경제

## 🛠️ 설치 및 실행

### 1. 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. 설정 파일 생성
`.streamlit/secrets.toml` 파일을 생성하고 다음과 같이 설정:

```toml
[naver_api]
client_id = "YOUR_NAVER_CLIENT_ID"
client_secret = "YOUR_NAVER_CLIENT_SECRET"

[app_settings]
max_articles_per_request = 100
request_delay = 0.1
request_delay_min = 0.3
request_delay_max = 0.8
max_pages_per_newspaper = 10
max_workers = 3
debug_mode = false
```

### 3. 애플리케이션 실행
```bash
streamlit run app.py
```

## 📦 requirements.txt

```txt
streamlit==1.29.0
pandas==2.1.4
openpyxl==3.1.2
requests==2.31.0
beautifulsoup4==4.12.2
lxml==4.9.3
```

## 🏗️ 프로젝트 구조

```
news_collector/
├── app.py                 # Streamlit 메인 애플리케이션
├── news_collector.py      # 신문 게재 기사 수집 로직
├── naver_search.py        # 네이버 뉴스 검색 로직
├── stock_market.py        # 주식시장 정보 로직
├── requirements.txt       # 패키지 의존성
├── .streamlit/
│   └── secrets.toml      # 설정 파일 (보안)
└── README.md             # 프로젝트 문서
```

## 🔧 주요 기술

- **Frontend**: Streamlit
- **Backend**: Python, requests, BeautifulSoup
- **크롤링**: requests + lxml (빠른 파싱)
- **병렬 처리**: ThreadPoolExecutor
- **데이터 처리**: pandas

## 📊 성능

- **속도**: Selenium 대비 3-5배 빠름
- **수집 시간**: 5-6개 신문사 기준 10-15초 이내
- **병렬 처리**: 최대 3개 신문사 동시 수집
- **안정성**: 에러 처리 및 재시도 로직 포함

## 🔒 보안 주의사항

- `secrets.toml` 파일은 절대 Git에 커밋하지 마세요
- 네이버 API 키는 안전하게 관리하세요
- 배포시에는 Streamlit Cloud의 Secrets 관리 기능을 사용하세요

## 📖 사용법

### 신문 게재 기사 수집
1. 원하는 신문사 선택 (카테고리별 전체 선택 가능)
2. 수집할 날짜 선택
3. "크롤링 시작" 버튼 클릭
4. 수집 현황을 테이블로 확인
5. 검색 및 다운로드 기능 활용

### 네이버 뉴스 검색
1. 검색 키워드 입력
2. 최대 기사 수 선택 (100/500/1000)
3. "검색 시작" 버튼 클릭
4. 요약 보기/전체 보기 선택
5. 다운로드 기능 활용

### 주식시장 정보
1. 기간 설정 (시작일, 종료일)
2. 주요 지수 동향 확인
3. 환율 및 원자재 가격 추이 확인
4. 개별 종목/ETF 조회
   - 종목코드, 티커, 종목명 입력
   - 주가 추이 및 기술적 지표 확인

### AI 요약 보고서
1. 수집된 기사 선택
2. 보고서 유형 선택 (일일/주간/월간)
3. 분석 항목 선택 (키워드/감성/섹터 등)
4. "보고서 생성" 버튼 클릭
5. 생성된 보고서 확인 및 다운로드

## 🐛 문제 해결

### 자주 발생하는 문제

1. **기사 수집이 안 되는 경우**
   - 네트워크 연결 확인
   - 날짜가 올바른지 확인 (미래 날짜 불가)
   - 해당 날짜에 신문이 발행되었는지 확인

2. **API 검색이 안 되는 경우**
   - 네이버 API 키 설정 확인
   - 웹 크롤링으로 자동 전환됨

3. **속도가 느린 경우**
   - `max_workers` 값 조정 (기본값: 3)
   - `max_pages_per_newspaper` 값 조정

## 🔄 업데이트 로그

### v1.2.0
- AI 요약 보고서 기능 추가
  - 기사 자동 요약
  - 키워드 추출
  - 섹터별 분석
  - 감성 분석
  - PDF 보고서 생성

### v1.1.0
- 주식시장 정보 기능 추가
  - 주요 지수 동향
  - 환율 및 원자재 가격
  - 개별 종목/ETF 조회
  - 기술적 지표 분석

### v1.0.0
- 신문 게재 기사 수집 기능
- 네이버 뉴스 검색 기능
- 병렬 처리 지원
- 다양한 다운로드 형식 지원

## 📞 문의사항

기술적 문제나 개선 요청이 있으시면 이슈를 등록해주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

---

**⚠️ 주의사항**: 이 도구는 개인적인 용도로만 사용하시고, 과도한 크롤링으로 서버에 부하를 주지 않도록 주의해주세요.

---